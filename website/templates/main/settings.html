{% extends "template.html" %}

{% block title %}
Settings
{% endblock %}
{% block content %}

<div class="flex flex-col-reverse md:flex-row justify-center p-2">

    <div class="w-full md:w-2/3">
        <img src="{{ url_for('static', filename='img/settings.svg')}}">
    </div>

    <div class="text-center self-center">
        <span class="text-2xl font-bold dark:text-white">üë®‚Äçüíª Profile</span>
        <div class="relative mt-4 bg-white shadow-lg sm:rounded-lg text-left dark:bg-gray-200 rounded-t-md ">
            <div class="h-3 bg-blue-700 dark:bg-blue-400 rounded-t-md"></div>

                <div class="py-6 px-8 pt-2">

                    <label class=" block font-semibold ">Name: <span class="font-normal" >{{ current_user.fname }} {{ current_user.lname }}</span><label>
                   <label class=" block font-semibold ">Unique ID: <span class="font-normal" >{{ current_user.id }}</span><label>
                    <label class=" block font-semibold ">Email Id: <span class="font-normal" >{{ current_user.email }}</span><label>
                    <label class=" block font-semibold ">Joined: <span class="font-normal" >{{ current_user.created.date() }}</span><label>
                    <label class=" block font-semibold ">Email Prefernce: <span class="font-normal" >{{ current_user.subscribed }}</span><label>
                    
                </div>

                                                    <hr class="my-4 border-2 border-blue-700">
                                    <span class="text-sm">LMS @ Frappe Dev Test 2021 | <a href="/logout"
                                            class="text-blue-700 hover:bg-blue-100 hover:underline">Logout</a></span>
        </div>
    </div>

</div>


<script>

   function validateForm() 
   {
        const Ofname = "{{ session['first_name'] }}";
        const Olname = "{{ session['last_name'] }}";

        var fname = document.getElementById("fname")
        var lname = ddocument.getElementById("lname")
        conosle.log(fname, lname)

        if(Ofname == fname.value || lname.value == Olname)
        {
            document.getElementById("form-error").innerHTML = "Same Value no change";
            document.getElementById("form-error").classList.add("p-1.5");

            return false;
        }
        else if (fname.value == "" || lname.value == "") 
        {
            document.getElementById("form-error").innerHTML = "Feilds Cannot be Empty";
            document.getElementById("form-error").classList.add("p-1.5");

            if (lname.value == "") {
                lname.classList.add("border-red-600");
            }
            if (fname.value == "") {
                fname.classList.add("border-red-600");
            }

            return false;
        }
        else{
            return false
        }
    }
</script>

{% endblock %}